{"version":3,"sources":["../../../app/scripts/logger.js","../../../app/scripts/util.js","../../../app/scripts/env.js","../../../app/scripts/modal.js","../../../app/scripts/safari.js","../../../app/scripts/analytics.js","../../../app/scripts/psprint.js","../../../app/scripts/logaster.js","../../../app/scripts/newsletter.js","../../../app/scripts/themes.js","../../../app/scripts/pdf.js","../../../app/scripts/app.js","../../../app/scripts/directives/fileread.js","../../../app/scripts/directives/drag.js","../../../app/scripts/controllers/main.js","../../scripts/templates.js"],"names":["window","originalWindowErrorCallback","onerror","errorMessage","url","lineNumber","columnNumber","errorObject","indexOf","ga","exceptionDescription","message","exDescription","hash","key","hashFull","location","substr","hashValue","split","closest","$elem","selector","$matches","document","parentNode","querySelectorAll","call","hasClass","node","className","tempClass","addClass","removeClass","spaceBefore","spaceAfter","replace","util","printchompUrl","apiUrl","env","domain","$","on","body","localStorage","setItem","removeItem","e","Storage","prototype","_setItem","isSafari","navigator","userAgent","$warning","querySelector","clickElement","target","addEventListener","openPsprintPage","open","$modal","showLogasterModal","foundation","closeModal","classList","contains","preventDefault","newsletterSubscribe","$content","emailAddress","textContent","trim","xhr","XMLHttpRequest","setRequestHeader","send","JSON","stringify","email","hashChange","themeActive","$container","click","$themeActive","GeneratePdf","config","card","margin","cardWidth","cardHeight","trimWithMargin","marginWithoutTrim","trimLines","x","y","x1","y1","name","imgData","doc","jsPDF","addImage","forEach","line","setLineWidth","save","app","angular","module","run","$rootScope","root","directive","scope","fileread","link","element","bind","changeEvent","$apply","files","$document","$timeout","template","drModel","drContainer","drGrid","transclude","$body","getElementsByTagName","scrollTop","scrollLeft","$dragHandle","$resizeHandle","transformPrefixes","startX","startY","minX","maxX","minY","maxY","dragActive","resizeActive","grid","maxGrid","val","Math","floor","setContainment","argument","dragRect","getBoundingClientRect","containerRect","dragStartY","top","dragStartX","left","height","width","restrictGrid","mousemove","touches","pageX","pageY","translate","prefix","css","newHeight","_startHeight","newWidth","_startWidth","mouseup","offsetLeft","offsetTop","parseInt","bottom","right","remove","mousedown","elem","add","disableScroll","emulateTouch","clientX","clientY","setModel","$watch","controller","$scope","$routeParams","$location","$q","$modalOrder","model","cardPictureFile","cardPicture","imageData","imageFilename","imageExt","pdfData","pdfFilename","loadingCard","expire","Date","setDate","getDate","promoExpire","storeDefaults","position","organization","phone","picture","person","details","store","copy","storedDetails","getItem","extend","fromJson","fn","delay","timer","context","this","args","arguments","clearTimeout","setTimeout","apply","toJson","clearInlineStyles","cardChildren","c","removeAttribute","ResetCard","change","previousTheme","theme","search","$on","imageType","type","match","reader","FileReader","onload","result","readAsDataURL","alert","pxToEm","parentStyle","getComputedStyle","style","childFontSize","parseFloat","fontSize","parentFontSize","properties","inlineStyleValue","newValues","prop","childValue","newValue","emSize","Object","keys","tagName","toLowerCase","fontSizes","1","2","3","4","5","6","7","fixPxSizes","container","children","editors","size","lists","li","generatePicture","cb","deferred","defer","getSelection","removeAllRanges","$cardClone","cloneNode","appendChild","html2canvas","letterRendering","then","canvas","removeChild","resolve","promise","DownloadPdf","toDataURL","DownloadPicture","toBlob","blob","filename","saveAs","scrollIntoView","openedModal","order","OpenOrderModal","scrollWidth","ceil","scrollHeight","clientWidth","clientHeight","widthOverflow","abs","heightOverflow","text","city","jpegUrl","imagePreview","loadedTemplates","$cardContent","event","$templateCache","put"],"mappings":"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","file":"app.js","sourcesContent":["/**\n * Send JavaScript error information to Google Analytics.\n *\n * @param  {Window} window A reference to the \"window\".\n * @return {void}\n * @author Philippe Sawicki <https://github.com/philsawicki>\n */\n(function (window) {\n    'use strict';\n\n    // Retain a reference to the previous global error handler, in case it has been set:\n    var originalWindowErrorCallback = window.onerror;\n\n    /**\n     * Log any script error to Google Analytics.\n     *\n     * Third-party scripts without CORS will only provide \"Script Error.\" as an error message.\n     *\n     * @param  {String}           errorMessage Error message.\n     * @param  {String}           url          URL where error was raised.\n     * @param  {Number}           lineNumber   Line number where error was raised.\n     * @param  {Number|undefined} columnNumber Column number for the line where the error occurred.\n     * @param  {Object|undefined} errorObject  Error Object.\n     * @return {Boolean}                       When the function returns true, this prevents the\n     *                                         firing of the default event handler.\n     */\n    window.onerror = function customErrorHandler (errorMessage, url, lineNumber, columnNumber, errorObject) {\n        // only track events from our scripts\n        url = url || '';\n        if(url.indexOf('//www.bizcardmaker.com/') === -1) {\n          return;\n        }\n\n        // Send error details to Google Analytics, if the library is already available:\n        if (typeof ga === 'function') {\n            // In case the \"errorObject\" is available, use its data, else fallback\n            // on the default \"errorMessage\" provided:\n            var exceptionDescription = errorMessage;\n            if (typeof errorObject !== 'undefined' && typeof errorObject.message !== 'undefined') {\n                exceptionDescription = errorObject.message;\n            }\n\n            // Format the message to log to Analytics (might also use \"errorObject.stack\" if defined):\n            exceptionDescription += ' @ ' + url + ':' + lineNumber + ':' + columnNumber;\n\n            ga('send', 'exception', {\n                'exDescription': exceptionDescription\n            });\n        }\n\n        // If the previous \"window.onerror\" callback can be called, pass it the data:\n        if (typeof originalWindowErrorCallback === 'function') {\n            return originalWindowErrorCallback(errorMessage, url, lineNumber, columnNumber, errorObject);\n        }\n        // Otherwise, Let the default handler run:\n        return false;\n    };\n})(window);\n","/* utils\n */\n\n(function () {\n  'use strict';\n\n  function hash (key) {\n    var hashFull = window.location.hash.substr(1);\n    var hashValue = hashFull.substr(hashFull.indexOf(key + '=')).split('&')[0].split('=')[1];\n\n    if (!hashValue) {\n      return null;\n    }\n\n    return hashValue;\n  }\n\n  function closest ($elem, selector) {\n    // traverse the dom up and find the closest parent\n    // that matches the selector.\n    // include the current element.\n    var $matches;\n\n    // loop through parents\n    while ($elem && $elem !== document) {\n      if ($elem.parentNode) {\n        // find all siblings that match the selector\n        $matches = $elem.parentNode.querySelectorAll(selector);\n        // check if our element is matched (poor-man's Element.matches())\n        if ([].indexOf.call($matches, $elem) !== -1) {\n          return $elem;\n        }\n\n        // go up the tree\n        $elem = $elem.parentNode;\n      } else {\n        return null;\n      }\n    }\n\n    return null;\n  }\n\n  function hasClass (node, className) {\n    if (!node.className) {\n      return false;\n    }\n    var tempClass = ' ' + node.className + ' ';\n    className = ' ' + className + ' ';\n\n    if (tempClass.indexOf(className) !== -1) {\n      return true;\n    }\n\n    return false;\n  }\n\n  function addClass (node, className) {\n    // class is already added\n    if (hasClass(node, className)) {\n      return node.className;\n    }\n\n    if (node.className) {\n      className = ' ' + className;\n    }\n\n    node.className += className;\n\n    return node.className;\n  }\n\n  function removeClass (node, className) {\n    var spaceBefore = ' ' + className;\n    var spaceAfter = className + ' ';\n\n    if (node.className.indexOf(spaceBefore) !== -1) {\n      node.className = node.className.replace(spaceBefore, '');\n    } else if (node.className.indexOf(spaceAfter) !== -1) {\n      node.className = node.className.replace(spaceAfter, '');\n    } else {\n      node.className = node.className.replace(className, '');\n    }\n\n    return node.className;\n  }\n\n  window.util = {\n    closest: closest,\n    hash: hash,\n\n    hasClass: hasClass,\n    addClass: addClass,\n    removeClass: removeClass\n  };\n})();","/* env globals\n */\n\n// local testing urls\nvar printchompUrl = 'http://sandbox.printchomp.com';\nvar apiUrl = 'http://localhost:8080';\nvar env = 'local';\n\n// dev\nif(document.domain.indexOf('development.') !== -1) {\n  env = 'dev';\n}\n\n// stage\nif(document.domain.indexOf('staging.') !== -1) {\n  env = 'stage';\n}\n\n// live\nif(document.domain.indexOf('www.') !== -1) {\n  env = 'live';\n}\n\nif(env === 'dev') {\n  apiUrl = 'https://dev-bizcardmaker.rhcloud.com';\n}\n\nif(env === 'live' || env === 'stage') {\n  apiUrl = 'https://live-bizcardmaker.rhcloud.com';\n  printchompUrl = 'https://printchomp.com';\n}\n","/* foundation modal tweaks\n */\n\n(function() {\n  'use strict';\n\n  // add a class on the body, when the modal is opened\n  // so we can set position: fixed on the background.\n  $(document).on('opened', '[data-reveal]', function () {\n    $(document.body).addClass('modal-opened');\n  });\n\n  $(document).on('closed', '[data-reveal]', function () {\n    $(document.body).removeClass('modal-opened');\n  });\n})();\n","/* safari tweaks\n*/\n\n(function() {\n  'use strict';\n\n  // Safari, in Private Browsing Mode, looks like it supports localStorage\n  // but all calls to setItem throw QuotaExceededError.\n  if (typeof localStorage === 'object') {\n    try {\n      localStorage.setItem('localStorage', 1);\n      localStorage.removeItem('localStorage');\n    } catch (e) {\n      window.Storage.prototype._setItem = window.Storage.prototype.setItem;\n      window.Storage.prototype.setItem = function() {};\n    }\n  }\n\n  // ugly detection for ugly Safari\n  var isSafari = (navigator.userAgent.indexOf('Safari') !== -1 && navigator.userAgent.indexOf('Chrome') === -1);\n\n  // show a notice if using safari\n  var $warning = document.querySelector('.warning-safari');\n\n  if (isSafari) {\n    $warning.className += 'warning-safari-show';\n  }\n})();","/* track analytics\n*/\n\n(function() {\n  'use strict';\n\n  var clickElement = function (e) {\n    // order buttons\n    if (window.util.closest(e.target, '.js-order-btn-psprint')) {\n      ga('send', 'event', 'Orders', 'Clicked PsPrint button');\n    }\n  };\n\n  document.body.addEventListener('click', clickElement);\n})();\n","/* psprint order button\n*/\n\n(function() {\n  'use strict';\n\n  var link = 'http://www.shareasale.com/r.cfm?b=283670&u=1215865&m=22819&urllink=&afftrack=';\n  var $btn = document.querySelector('.js-order-btn-psprint');\n\n  var openPsprintPage = function (e) {\n    if (!window.util.closest(e.target, '.js-order-btn-psprint')) {\n      return;\n    }\n\n    // open the url\n    window.open(link, 'psprint');\n  };\n\n  document.body.addEventListener('click', openPsprintPage);\n})();\n","/* logaster modal\n*/\n\n(function() {\n  'use strict';\n\n  var $modal = document.querySelector('.js-modal-logaster');\n\n  // if we're on a page without the modal\n  if (!$modal) {\n    return;\n  }\n\n  var showLogasterModal = function (e) {\n    if (!window.util.closest(e.target, '.js-btn-logaster')) {\n      return;\n    }\n\n    // open the reveal modal\n    $($modal).foundation('open');\n  };\n\n  var closeModal = function (e) {\n    if (!e.target.classList.contains('js-close-modal')) {\n      return;\n    }\n\n    $($modal).foundation('close');\n    e.preventDefault();\n  };\n\n  $modal.addEventListener('click', closeModal);\n  document.body.addEventListener('click', showLogasterModal);\n})();\n","/* subscribe to newsletter modal\n*/\n\n(function() {\n  'use strict';\n\n  var newsletterSubscribe = function(e) {\n    if (!window.util.closest(e.target, '.js-newsletter-subscribe')) {\n      return;\n    }\n\n    // track email\n    var $content = document.querySelector('.card-content');\n    var emailAddress = $content.querySelector('.email p').textContent.trim();\n\n    var xhr = new window.XMLHttpRequest();\n    xhr.open('POST', apiUrl + '/newsletter/subscribe');\n    xhr.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');\n    xhr.send(JSON.stringify({\n      email: emailAddress\n    }));\n  };\n\n  document.body.addEventListener('click', newsletterSubscribe);\n})();\n","/* theme selector\n*/\n\n(function() {\n  'use strict';\n\n  var themeActive = '';\n  var $themeActive;\n  var $container = document.querySelector('.themes-box');\n\n  // if we're on a page without the themes\n  if (!$container) {\n    return;\n  }\n\n  function hashChange () {\n    themeActive = window.util.hash('theme');\n\n    // if no theme in the url\n    if (!themeActive) {\n      // select the first in the list\n      $container.querySelector('.theme-item').click();\n\n      return;\n    }\n\n    // uncheck previous active theme\n    $themeActive = $container.querySelector('.active');\n    if ($themeActive) {\n      window.util.removeClass($themeActive, 'active');\n    }\n\n    $themeActive = $container.querySelector('.js-' + themeActive);\n    if ($themeActive) {\n      window.util.addClass($themeActive, 'active');\n    }\n  }\n\n  hashChange();\n  window.addEventListener('hashchange', hashChange, false);\n})();\n","/* PDF generation for final printing.\n */\n\nwindow.GeneratePdf = (function () {\n  'use strict';\n\n  var config =  {\n    card: [ 3.75, 2.25 ],\n    margin: 0.35,\n    trim: 0.125\n  };\n\n  var cardWidth = config.card[0];\n  var cardHeight = config.card[1];\n\n  var trim = config.trim;\n  var trimWithMargin = trim + config.margin;\n  var marginWithoutTrim = config.margin - trim;\n  var trimSubstract = 0.06;\n\n  var trimLines = [\n    // top left\n    {\n      x: trimWithMargin,\n      y: trimSubstract,\n      x1: trimWithMargin,\n      y1: trimWithMargin - trimSubstract\n    },\n    {\n      x: trimSubstract,\n      y: trimWithMargin,\n      x1: trimWithMargin - trimSubstract,\n      y1: trimWithMargin\n    },\n\n    // top right\n    {\n      x: cardWidth + marginWithoutTrim,\n      y: trimSubstract,\n      x1: cardWidth + marginWithoutTrim,\n      y1: trimWithMargin - trimSubstract\n    },\n    {\n      x: cardWidth + marginWithoutTrim + trimSubstract,\n      y: trimWithMargin,\n      x1: cardWidth + (config.margin * 2) - trimSubstract,\n      y1: trimWithMargin\n    },\n\n    // bottom left\n    {\n      x: trimWithMargin,\n      y: cardHeight + marginWithoutTrim + trimSubstract,\n      x1: trimWithMargin,\n      y1: cardHeight + (config.margin * 2) - trimSubstract\n    },\n    {\n      x: trimSubstract,\n      y: cardHeight + marginWithoutTrim,\n      x1: trimWithMargin - trimSubstract,\n      y1: cardHeight + marginWithoutTrim\n    },\n\n    // bottom right\n    {\n      x: cardWidth + marginWithoutTrim,\n      y: cardHeight + marginWithoutTrim + trimSubstract,\n      x1: cardWidth + marginWithoutTrim,\n      y1: cardHeight + (config.margin * 2) - trimSubstract\n    },\n    {\n      x: cardWidth + marginWithoutTrim + trimSubstract,\n      y: cardHeight + marginWithoutTrim,\n      x1: cardWidth + (config.margin * 2) - trimSubstract,\n      y1: cardHeight + marginWithoutTrim\n    }\n  ];\n\n  return function(name, imgData) {\n    var doc = new jsPDF('landscape', 'in', [\n      cardWidth + config.margin * 2,\n      cardHeight + config.margin * 2\n    ]);\n\n    doc.addImage(imgData, 'JPEG', config.margin, config.margin, cardWidth, cardHeight);\n\n    // write the trim lines\n    trimLines.forEach(function(line) {\n      doc.setLineWidth(0.01);\n      doc.line(line.x, line.y, line.x1, line.y1);\n    });\n\n    doc.save(name);\n  };\n}());\n","/* Business Card Maker app\n*/\n\nvar app = angular.module('businessCardMaker', [\n  'ngRoute',\n  'angular-meditor'\n]);\n\napp.run([ '$rootScope', function($rootScope){\n  'use strict';\n\n  var root = $rootScope.root = {};\n}]);\n\n","/* fileread directive\n* for uploading files\n*/\n\napp.directive('fileread', [function () {\n  'use strict';\n\n  return {\n    scope: {\n      fileread: '='\n    },\n    link: function (scope, element) {\n      element.bind('change', function (changeEvent) {\n        scope.$apply(function () {\n          scope.fileread = changeEvent.target.files[0];\n          // or all selected files:\n          // scope.fileread = changeEvent.target.files;\n        });\n      });\n    }\n  };\n}]);\n","/* DragResize directive\n */\n\napp.directive('drModel', [\n'$document', '$timeout',\nfunction ($document, $timeout) {\n  'use strict';\n\n  return {\n    template: '<div class=\"dr-container\">' +\n    '<div class=\"drag-handle\"></div>' +\n    '<div class=\"resize-handle\"></div>' +\n    '<div ng-transclude></div>' +\n    '</div>',\n    scope: {\n      drModel: '=',\n      drContainer: '@',\n      drGrid: '@'\n    },\n    replace: true,\n    transclude: true,\n    link: function (scope, element) {\n\n      var classDrActive = 'dr-active';\n      var classDrShow = 'dr-handle-show';\n\n      var $body = document.getElementsByTagName('body')[0];\n      var $container = $body;\n\n      if(scope.drContainer) {\n        $container = document.querySelector(scope.drContainer);\n      }\n\n      var $dragHandle = element[0].querySelector('.drag-handle');\n      var $resizeHandle = element[0].querySelector('.resize-handle');\n\n      var transformPrefixes = [\n        'webkitTransform',\n        'msTransform',\n        'transform'\n      ];\n\n      var startX = 0;\n      var startY = 0;\n      var x = 0;\n      var y = 0;\n\n      var minX = 0;\n      var maxX = 0;\n      var minY = 0;\n      var maxY = 0;\n\n      var dragActive = false;\n      var resizeActive = false;\n\n      var grid = scope.drGrid;\n\n      var maxGrid = function (val) {\n        return Math.floor(val/grid) * grid;\n      };\n\n      var setContainment = function (argument) {\n\n        // get size and position\n        var dragRect = $dragHandle.getBoundingClientRect();\n        var containerRect = $container.getBoundingClientRect();\n\n        var dragStartY = dragRect.top;\n        var dragStartX = dragRect.left;\n\n        minY = dragStartY - containerRect.top;\n        minY = 0 - maxGrid(minY);\n\n        maxY = (containerRect.top + containerRect.height) - dragStartY - dragRect.height;\n        maxY = maxGrid(maxY);\n\n        minX = dragStartX - containerRect.left;\n        minX = 0 - maxGrid(minX);\n\n        maxX = (containerRect.left + containerRect.width) - dragStartX - dragRect.width;\n        maxX = maxGrid(maxX);\n\n      };\n\n      var restrictGrid = function (val) {\n        return (val % grid === 0) ? val : val - val % grid;\n      };\n\n      var mousemove = function (e) {\n\n        if(!dragActive && !resizeActive) {\n          return;\n        }\n\n        // disable text selection\n        e.preventDefault();\n\n        x = restrictGrid(e.touches[0].pageX - startX);\n        y = restrictGrid(e.touches[0].pageY - startY);\n\n        if (x > maxX) {\n          x = maxX;\n        }\n        if (y > maxY) {\n          y = maxY;\n        }\n\n        // drag\n        if(dragActive) {\n          if (x < minX) {\n            x = minX;\n          }\n          if (y < minY) {\n            y = minY;\n          }\n\n          var translate = 'translate3d(' + x + 'px ,' + y + 'px, 0)';\n\n          angular.forEach(transformPrefixes, function(prefix) {\n            element.css(prefix, translate);\n          });\n        }\n\n        // resize\n        if(resizeActive) {\n          var newHeight = element._startHeight + y;\n          element.css('height', newHeight);\n\n          var newWidth = element._startWidth + x;\n          element.css('width', newWidth);\n        }\n\n      };\n\n      var mouseup = function (e) {\n\n        if(!dragActive && !resizeActive) {\n          return;\n        }\n\n        if(dragActive) {\n          dragActive = false;\n\n          // remove transforms and set distance in px\n          angular.forEach(transformPrefixes, function(prefix) {\n            element.css(prefix, '');\n          });\n\n          var left = x;\n          var top = y;\n\n          if(element.css('position') === 'absolute') {\n\n            // absolute elements\n            left += element[0].offsetLeft;\n            top += element[0].offsetTop;\n\n          } else {\n\n            // relative elements\n            if(element.css('left') && element.css('left') !== 'auto') {\n              left = parseInt(element.css('left'), 10) + x;\n            }\n\n            if(element.css('top') && element.css('top') !== 'auto') {\n              top = parseInt(element.css('top'), 10) + y;\n            }\n\n          }\n\n          element.css({\n            top:  top,\n            left:  left,\n            bottom: 'auto',\n            right: 'auto'\n          });\n\n          // set positions in model\n          if(scope.drModel) {\n            scope.drModel.x = left;\n            scope.drModel.y = top;\n          }\n        }\n\n        if(resizeActive) {\n          resizeActive = false;\n\n          // set sizes in model\n          if(scope.drModel) {\n            scope.drModel.width = parseInt(element.css('width'));\n            scope.drModel.height = parseInt(element.css('height'));\n          }\n        }\n\n        // remove active classes\n        $body.classList.remove(classDrActive);\n        element[0].classList.remove(classDrShow);\n\n      };\n\n      var mousedown = function(e) {\n\n        var elem = e.target;\n\n        // recalculate containment\n        setContainment();\n\n        x = y = 0;\n\n        startX = e.touches[0].pageX - x;\n        startY = e.touches[0].pageY - y;\n\n        // resize\n        if(elem === $resizeHandle) {\n          resizeActive = true;\n\n          //element._startY = event.pageY;\n          element._startHeight = parseInt(element.css('height'));\n          element._startWidth = parseInt(element.css('width'));\n        } else {\n          // drag\n          dragActive = true;\n        }\n\n        $body.classList.add(classDrActive);\n        element[0].classList.add(classDrShow);\n\n      };\n\n      // disable window scrolling when moving the mouse\n      // to the window margins or\n      // in the browser chrome and back in\n      var scrollTop;\n      var scrollLeft;\n\n      var disableScroll = function(e) {\n\n        if(!dragActive) {\n          scrollTop = $body.scrollTop;\n          scrollLeft = $body.scrollLeft;\n\n          return;\n        }\n\n        $body.scrollTop = scrollTop;\n        $body.scrollLeft = scrollLeft;\n\n      };\n\n      var emulateTouch = function(e) {\n\n        e.touches = [{\n          clientX: e.clientX,\n          clientY: e.clientY,\n          pageX: e.pageX,\n          pageY: e.pageY\n        }];\n\n        return e;\n\n      };\n\n      var setModel = function() {\n\n        scope.drModel.x = scope.drModel.x || '';\n        element.css({\n          left: scope.drModel.x\n        });\n\n        scope.drModel.y = scope.drModel.y || '';\n        element.css({\n          top: scope.drModel.y\n        });\n\n        scope.drModel.width = scope.drModel.width || '';\n        element.css({\n          width: scope.drModel.width\n        });\n\n        scope.drModel.height = scope.drModel.height || '';\n        element.css({\n          height: scope.drModel.height\n        });\n\n      };\n\n      scope.$watch('drModel', setModel, true);\n\n      $resizeHandle.addEventListener('mousedown', function(e) {\n        mousedown(emulateTouch(e));\n      });\n      $resizeHandle.addEventListener('touchstart', mousedown);\n\n      $dragHandle.addEventListener('mousedown', function(e) {\n        mousedown(emulateTouch(e));\n      });\n      $dragHandle.addEventListener('touchstart', mousedown);\n\n      document.addEventListener('mousemove', function(e) {\n        mousemove(emulateTouch(e));\n      });\n      document.addEventListener('touchmove', mousemove);\n\n      document.addEventListener('mouseup', mouseup);\n      document.addEventListener('touchend', mouseup);\n\n      // don't scroll when moving to the window sides\n      window.addEventListener('scroll', disableScroll);\n\n    }\n  };\n}]);\n","app.controller('MainCtrl', [\n'$rootScope', '$scope', '$routeParams', '$location', '$timeout', '$q',\nfunction($rootScope, $scope, $routeParams, $location, $timeout, $q) {\n  'use strict';\n\n  var $modalOrder;\n\n  var model = $scope.model = {};\n\n  model.cardPictureFile = '';\n  model.cardPicture = '';\n\n  model.imageData = '';\n  model.imageFilename = 'bizcardmaker-com';\n  model.imageExt = '.jpg';\n\n  model.pdfData = '';\n  model.pdfFilename = 'bizcardmaker-com.pdf';\n\n  model.loadingCard = false;\n\n  var expire = new Date();\n  expire.setDate(expire.getDate() + 23);\n  model.promoExpire = expire;\n\n  model.storeDefaults = {\n    card: {\n      name: 'John Doe',\n      position: 'Position',\n      organization: 'Organization',\n      location: 'City, State',\n      phone: '(123) 555-1234',\n      email: 'john.doe@cmail.com',\n      url: 'www.john-doe.com'\n    },\n    position: {\n      picture: {},\n      person: {},\n      details: {},\n      email: {},\n      url: {}\n    }\n  };\n\n  model.store = {\n    card: {},\n    position: {}\n  };\n\n  angular.copy(model.storeDefaults, model.store);\n\n  var storedDetails = window.localStorage.getItem('bizcardmaker-store');\n\n  if(storedDetails) {\n    //angular.copy(angular.fromJson(storedDetails), model.store);\n    angular.extend(model.store, angular.fromJson(storedDetails));\n  }\n\n  // Remy Sharp's debounce\n  // https://remysharp.com/2010/07/21/throttling-function-calls\n  var debounce = function(fn, delay) {\n    var timer = null;\n    return function () {\n      var context = this, args = arguments;\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        fn.apply(context, args);\n      }, delay);\n    };\n  };\n\n  // save edits to localstorage\n  $scope.$watch('model.store', debounce(function(store) {\n\n    window.localStorage.setItem('bizcardmaker-store', angular.toJson(store));\n\n  }, 500), true);\n\n  var clearInlineStyles = function() {\n    if (!document.querySelector('.card-preview')) {\n      return;\n    }\n\n    // clear all inline styles\n    // generated by editor and draggable\n    var cardChildren = document.querySelector('.card-preview').querySelectorAll('*');\n    angular.forEach(cardChildren, function(c) {\n      c.removeAttribute('style');\n    });\n  };\n\n  // reset all saved data\n  $scope.ResetCard = function(change) {\n\n    clearInlineStyles();\n\n    if(change) {\n\n      // on change, only reset the positions\n      angular.copy(model.storeDefaults.position, model.store.position);\n\n    } else {\n\n      // complete reset\n      var previousTheme = model.store.theme;\n\n      angular.copy(model.storeDefaults, model.store);\n\n      // don't reset the currently selected theme\n      model.store.theme = previousTheme;\n    }\n\n\n    window.localStorage.removeItem('bizcardmaker-store');\n\n  };\n\n  // if we have a stored theme\n  // set it as active.\n  if (model.store.theme) {\n    $location.search('theme', model.store.theme);\n  }\n\n  $scope.$on('$locationChangeStart', function(){\n    var theme = $location.search().theme;\n\n    // reset card styles when changing themes\n    // except the text data\n    if(theme !== model.store.theme) {\n      $scope.ResetCard(true);\n    }\n\n    model.store.theme = theme;\n  });\n\n  $scope.$watch('model.cardPictureFile', function() {\n\n    if(model.cardPictureFile) {\n\n      var imageType = /image.*/;\n\n      if (model.cardPictureFile.type.match(imageType)) {\n        var reader = new FileReader();\n\n        reader.onload = function() {\n\n          $timeout(function() {\n            model.cardPicture = reader.result;\n          });\n\n        };\n\n        reader.readAsDataURL(model.cardPictureFile);\n\n      } else {\n\n        window.alert('File not supported!');\n\n      }\n\n    }\n\n  });\n\n  /* Turn px values into em\n   */\n  var pxToEm = function(elem) {\n\n    var parentStyle = window.getComputedStyle(elem.parentNode, null);\n    var style = window.getComputedStyle(elem, null);\n    var childFontSize = parseFloat(style.fontSize);\n    var parentFontSize = parseFloat(parentStyle.fontSize);\n\n    var properties = [ 'left', 'top', 'width', 'height' ];\n    var inlineStyleValue = '';\n\n    var newValues = {};\n\n    properties.forEach(function(prop) {\n\n      inlineStyleValue = elem.style[prop];\n\n      // only if the property is set as inline style\n      if(inlineStyleValue && inlineStyleValue.indexOf('em') === -1) {\n\n        // var childValue = parseFloat(style[prop]);\n        var childValue = parseFloat(style[prop]);\n        var newValue = childValue / parentFontSize;\n\n        // recalculate depending on element fontSize\n        // since it influences ems\n        var emSize = childFontSize / parentFontSize;\n        newValue += (newValue - newValue * emSize) / emSize;\n\n        //elem.style[prop] = newValue + 'em';\n        newValues[prop] = newValue + 'em';\n\n      }\n\n    });\n\n    // change all values at the same time, for performance\n    Object.keys(newValues).forEach(function(key) {\n      elem.style[key] = newValues[key];\n    });\n\n    // convert fontSize to em, only for font tags\n    if(elem.tagName.toLowerCase() === 'font' && style.fontSize.indexOf('em') === -1) {\n      elem.style.fontSize = childFontSize / parentFontSize + 'em';\n    }\n\n  };\n\n  var fontSizes = {\n    '1': '10',\n    '2': '13',\n    '3': '16',\n    '4': '18',\n    '5': '24',\n    '6': '32',\n    '7': '48'\n  };\n\n  // replace px styles and font sizes generated by the editor\n  // so that I can later enlarge the entire business card with ems\n  var fixPxSizes = function(container) {\n    var editors = container.querySelectorAll('[contenteditable]');\n\n    var children;\n\n    angular.forEach(editors, function(e) {\n      children = e.querySelectorAll('*');\n      angular.forEach(children, function(c) {\n        // first turn font size=x to px\n        if(c.tagName.toLowerCase() === 'font') {\n          c.style.fontSize = fontSizes[c.size] + 'px';\n        }\n\n        pxToEm(c);\n      });\n    });\n\n    // fix dragged possitions\n    var lists = container.querySelectorAll('.card-item[style]');\n    var picture = container.querySelector('.card-picture[style]');\n\n    angular.forEach(lists, function(li) {\n      pxToEm(li);\n    });\n\n    if(picture) {\n      pxToEm(picture);\n    }\n\n  };\n\n  // place business card on a canvas\n  $scope.generatePicture = function(cb) {\n    cb = cb || function() {};\n\n    var deferred = $q.defer();\n\n    // remove text selection, to hide still-open editors\n    window.getSelection().removeAllRanges();\n\n    var $cardClone = document.querySelector('.js-card-container').cloneNode(true);\n    $cardClone.classList.add('card-invisible');\n\n    // add the card to the dom before converting to em\n    // so we can getComputedStyle\n    document.body.appendChild($cardClone);\n\n    // before generation, turn all px values to em for up-scaling\n    fixPxSizes($cardClone);\n\n    // double it up only after the px->em conversion\n    $cardClone.classList.add('card-big');\n\n    model.loadingCard = true;\n\n    html2canvas($cardClone, {\n      letterRendering: true\n    })\n    .then(function(canvas) {\n      document.body.removeChild($cardClone);\n      model.loadingCard = false;\n\n      deferred.resolve(canvas);\n\n      // callback for Karma\n      cb(canvas);\n    });\n\n    return deferred.promise;\n\n  };\n\n  $scope.DownloadPdf = function() {\n    $scope.generatePicture()\n    .then(function(canvas) {\n      var imgData = canvas.toDataURL('image/jpeg', 1.0);\n      window.GeneratePdf(model.pdfFilename, imgData);\n    });\n\n    // track pdf download\n    ga('send', 'event', 'Download', 'Download PDF', model.store.theme);\n  };\n\n  $scope.DownloadPicture = function() {\n\n    $scope.generatePicture()\n    .then(function(canvas) {\n\n      // make the canvas a blob, so we can download it with downloadify\n      canvas.toBlob(\n        function (blob) {\n\n          var filename = model.imageFilename + '-' + model.store.theme + model.imageExt;\n\n          // saveAs is global from FileSaver.js\n          // FileSaver is included in jsPdf\n          saveAs(blob, filename);\n\n          // scroll back to the card\n          // since saveAs scrolls to the top\n          var $cardContainer = $('.card-container');\n          $cardContainer[0].scrollIntoView(true);\n\n        },\n        'image/jpeg'\n      );\n\n    });\n\n    // track download\n    ga('send', 'event', 'Download', 'Download picture', model.store.theme);\n\n  };\n\n  model.openedModal = false;\n  model.order = {};\n  $scope.OpenOrderModal = function() {\n\n    // check if any content is overflowing\n    var $content = document.querySelector('.card-content');\n\n    // round values for scrollw/h and clientw/h manually\n    // because of\n    // https://code.google.com/p/chromium/issues/detail?id=360889\n    // summary:\n    // chrome still doesn't return the exact float-point value for\n    // scrollW/H\n\n    // round everything UP\n    var scrollWidth = Math.ceil($content.scrollWidth);\n    var scrollHeight = Math.ceil($content.scrollHeight);\n\n    var clientWidth = Math.ceil($content.clientWidth);\n    var clientHeight = Math.ceil($content.clientHeight);\n\n    // instead of just checking to see if the scroll area is larger\n    // than the safe-zone,\n    // we check if it's larger by more than 5 pixels\n    // because browsers are crazy\n    var widthOverflow = (Math.abs(scrollWidth - clientWidth) > 5);\n    var heightOverflow = (Math.abs(scrollHeight - clientHeight) > 5);\n\n    var isOverflowing = widthOverflow || heightOverflow;\n\n    var overflowMessage = 'Oops! \\n' +\n    'Some of the details on your card will be cut during the printing process. \\n\\n' +\n    'To make sure this doesn\\'t happen, please try: \\n' +\n    '* Shortening some of text lines \\n' +\n    '* Moving the elements closer to the card center \\n';\n\n    if(isOverflowing) {\n\n      window.alert(overflowMessage);\n\n      // track analytics\n      ga('send', 'event', 'Orders', 'Overflow error');\n\n      return false;\n    }\n\n    // if this is the first time we're opening the modal,\n    // copy the details to be used in the order form.\n    // if the modal was previously opened, leave the details alone\n    if(!model.openedModal) {\n\n      model.order.email = $('.email p', $content).text().trim();\n      model.order.name = $('.fn', $content).text().trim();\n      model.order.phone = $('.tel', $content).text().trim();\n      model.order.city = $('.locality', $content).text().trim();\n\n      model.openedModal = true;\n    }\n\n    // generate image preview\n    $scope.generatePicture().then(function(canvas) {\n\n      // open the reveal modal\n      $modalOrder.foundation('open');\n\n      var jpegUrl = canvas.toDataURL('image/jpeg');\n      model.imagePreview = jpegUrl;\n\n    });\n  };\n\n  var allTemplates = 1;\n  var loadedTemplates = 0;\n  $scope.$on('$includeContentLoaded', function() {\n    // when loading all the includes\n    loadedTemplates++;\n    if (loadedTemplates !== allTemplates) {\n      return;\n    }\n\n    $modalOrder = $('.modal-order');\n\n    // init foundation plugins - modal and dropdown\n    $(document.querySelector('.card-editor')).foundation();\n\n    // hack to prevent automatic scrolling from contenteditable\n    var $cardContent = document.querySelector('.card-content');\n    if($cardContent) {\n      $cardContent.addEventListener('scroll', function(event) {\n        $cardContent.scrollTop = 0;\n        $cardContent.scrollLeft = 0;\n      });\n    }\n\n  });\n\n}]);\n","angular.module('businessCardMaker').run(['$templateCache', function($templateCache) {\n  'use strict';\n\n  $templateCache.put('views/cardeditor.html',\n    \"<h2>\\n\" +\n    \"  Customize your business card\\n\" +\n    \"\\n\" +\n    \"  <button type=\\\"button\\\" class=\\\"button small muted btn-reset\\\" ng-click=\\\"ResetCard()\\\" title=\\\"Undo all the styling changes you made. The text and logo will stay the same.\\\">\\n\" +\n    \"    <i class=\\\"fa fa-undo\\\"></i>\\n\" +\n    \"    Reset changes\\n\" +\n    \"  </button>\\n\" +\n    \"</h2>\\n\" +\n    \"\\n\" +\n    \"<div class=\\\"card-container js-card-container\\\" ng-class=\\\"{ ' state-loading': model.loadingCard }\\\">\\n\" +\n    \"  <div class=\\\"card-preview {{ model.store.theme }}\\\">\\n\" +\n    \"\\n\" +\n    \"    <div class=\\\"card-content\\\">\\n\" +\n    \"\\n\" +\n    \"      <input type=\\\"file\\\" id=\\\"picture-upload\\\" class=\\\"file-upload\\\" fileread=\\\"model.cardPictureFile\\\">\\n\" +\n    \"\\n\" +\n    \"      <div class=\\\"card-picture\\\" dr-container=\\\".card-content\\\" dr-model=\\\"model.store.position.picture\\\" dr-grid=\\\"10\\\">\\n\" +\n    \"\\n\" +\n    \"        <label for=\\\"picture-upload\\\" ng-class=\\\"{ 'no-picture': !model.cardPicture }\\\" title=\\\"Click to upload your own logo\\\">\\n\" +\n    \"\\n\" +\n    \"          <i class=\\\"fa fa-picture-o\\\"></i>\\n\" +\n    \"          <span>Upload your logo</span>\\n\" +\n    \"\\n\" +\n    \"          <img ng-src=\\\"{{ model.cardPicture }}\\\">\\n\" +\n    \"\\n\" +\n    \"        </label>\\n\" +\n    \"      </div>\\n\" +\n    \"\\n\" +\n    \"      <div class=\\\"card-item person\\\" dr-container=\\\".card-content\\\" dr-model=\\\"model.store.position.person\\\" dr-grid=\\\"10\\\">\\n\" +\n    \"\\n\" +\n    \"        <p meditor ng-model=\\\"model.store.card.name\\\" class=\\\"fn\\\"></p>\\n\" +\n    \"        <p meditor ng-model=\\\"model.store.card.position\\\" class=\\\"title\\\"></p>\\n\" +\n    \"\\n\" +\n    \"      </div>\\n\" +\n    \"\\n\" +\n    \"      <div class=\\\"card-item details\\\" dr-container=\\\".card-content\\\" dr-model=\\\"model.store.position.details\\\" dr-grid=\\\"10\\\">\\n\" +\n    \"\\n\" +\n    \"        <p meditor ng-model=\\\"model.store.card.organization\\\" class=\\\"org\\\"></p>\\n\" +\n    \"        <p meditor ng-model=\\\"model.store.card.location\\\" class=\\\"location\\\"></p>\\n\" +\n    \"        <p meditor ng-model=\\\"model.store.card.phone\\\" class=\\\"tel\\\"></p>\\n\" +\n    \"\\n\" +\n    \"      </div>\\n\" +\n    \"\\n\" +\n    \"      <div class=\\\"card-item email\\\" dr-container=\\\".card-content\\\" dr-model=\\\"model.store.position.email\\\" dr-grid=\\\"10\\\">\\n\" +\n    \"\\n\" +\n    \"        <p meditor ng-model=\\\"model.store.card.email\\\"></p>\\n\" +\n    \"\\n\" +\n    \"      </div>\\n\" +\n    \"\\n\" +\n    \"      <div class=\\\"card-item url\\\" dr-container=\\\".card-content\\\" dr-model=\\\"model.store.position.url\\\" dr-grid=\\\"10\\\">\\n\" +\n    \"\\n\" +\n    \"        <p meditor ng-model=\\\"model.store.card.url\\\"></p>\\n\" +\n    \"\\n\" +\n    \"      </div>\\n\" +\n    \"\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"  </div>\\n\" +\n    \"\\n\" +\n    \"</div>\\n\" +\n    \"\\n\" +\n    \"<ul class=\\\"download-buttons\\\">\\n\" +\n    \"  <li class=\\\"order-btn order-btn-psprint\\\">\\n\" +\n    \"\\n\" +\n    \"    <button class=\\\"button secondary js-order-btn-psprint\\\" ng-click=\\\"DownloadPicture()\\\">\\n\" +\n    \"      <i class=\\\"fa fa-shopping-cart\\\"></i>\\n\" +\n    \"      60% Off Business Cards\\n\" +\n    \"\\n\" +\n    \"      <small>\\n\" +\n    \"        Get your business cards printed and delivered at the best quality and price!\\n\" +\n    \"      </small>\\n\" +\n    \"\\n\" +\n    \"      <span class=\\\"button-promo\\\">\\n\" +\n    \"        Ends {{ model.promoExpire | date:'MM.dd.yy' }}\\n\" +\n    \"      </span>\\n\" +\n    \"    </button>\\n\" +\n    \"\\n\" +\n    \"    <p class=\\\"partner-text\\\">\\n\" +\n    \"      Powered by\\n\" +\n    \"      <a href=\\\"http://www.shareasale.com/r.cfm?b=283670&u=1215865&m=22819&urllink=&afftrack=\\\" target=\\\"_blank\\\">\\n\" +\n    \"        PsPrint\\n\" +\n    \"      </a>\\n\" +\n    \"    </p>\\n\" +\n    \"\\n\" +\n    \"  </li>\\n\" +\n    \"  <li>\\n\" +\n    \"\\n\" +\n    \"    <a data-toggle=\\\"drop-downloads\\\" class=\\\"button muted button-download js-download-dropdown-btn float-right\\\">\\n\" +\n    \"      <i class=\\\"fa fa-arrow-circle-o-down\\\"></i>\\n\" +\n    \"      <span>Download as...</span>\\n\" +\n    \"    </a>\\n\" +\n    \"\\n\" +\n    \"    <div id=\\\"drop-downloads\\\" class=\\\"dropdown-pane bottom dropdown-download-files\\\" data-dropdown data-close-on-click=\\\"true\\\">\\n\" +\n    \"      <button type=\\\"button\\\" ng-click=\\\"DownloadPdf()\\\" class=\\\"js-newsletter-subscribe button-download-file\\\">\\n\" +\n    \"        <i class=\\\"fa fa-file-text\\\"></i>\\n\" +\n    \"        Download as PDF\\n\" +\n    \"      </button>\\n\" +\n    \"\\n\" +\n    \"      <button type=\\\"button\\\" ng-click=\\\"DownloadPicture()\\\" class=\\\"js-newsletter-subscribe button-download-file\\\">\\n\" +\n    \"        <i class=\\\"fa fa-picture-o\\\"></i>\\n\" +\n    \"        Download as JPEG\\n\" +\n    \"      </button>\\n\" +\n    \"    </div>\\n\" +\n    \"\\n\" +\n    \"  </li>\\n\" +\n    \"</ul>\\n\" +\n    \"\\n\"\n  );\n\n}]);\n"]}